<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: prometheus Pages: 1 -->
<svg width="1052pt" height="458pt"
 viewBox="0.00 0.00 1052.00 458.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 454)">
<title>prometheus</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-454 1048,-454 1048,4 -4,4"/>
<!-- prometheus -->
<g id="node1" class="node">
<title>prometheus</title>
<polygon fill="none" stroke="#000000" points="210,-147 210,-354 356,-354 356,-147 210,-147"/>
<text text-anchor="middle" x="283" y="-338.8" font-family="Times,serif" font-size="14.00" fill="#000000">prometheus server</text>
<polyline fill="none" stroke="#000000" points="210,-331 356,-331 "/>
<text text-anchor="middle" x="283" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#000000">scrape</text>
<polyline fill="none" stroke="#000000" points="210,-308 356,-308 "/>
<text text-anchor="middle" x="283" y="-292.8" font-family="Times,serif" font-size="14.00" fill="#000000">Retriveval</text>
<polyline fill="none" stroke="#000000" points="210,-285 356,-285 "/>
<text text-anchor="middle" x="283" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">store</text>
<polyline fill="none" stroke="#000000" points="210,-262 356,-262 "/>
<text text-anchor="middle" x="283" y="-246.8" font-family="Times,serif" font-size="14.00" fill="#000000">TSDB</text>
<polyline fill="none" stroke="#000000" points="210,-239 356,-239 "/>
<text text-anchor="middle" x="283" y="-223.8" font-family="Times,serif" font-size="14.00" fill="#000000">HTTP server</text>
<polyline fill="none" stroke="#000000" points="210,-216 356,-216 "/>
<text text-anchor="middle" x="283" y="-200.8" font-family="Times,serif" font-size="14.00" fill="#000000">client libraries</text>
<polyline fill="none" stroke="#000000" points="210,-193 356,-193 "/>
<text text-anchor="middle" x="283" y="-177.8" font-family="Times,serif" font-size="14.00" fill="#000000">PromSQL</text>
<polyline fill="none" stroke="#000000" points="210,-170 356,-170 "/>
<text text-anchor="middle" x="283" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#000000">standalone可水平扩容</text>
</g>
<!-- Nodes -->
<g id="node2" class="node">
<title>Nodes</title>
<polygon fill="none" stroke="#000000" points="577,-135 577,-204 651,-204 651,-135 577,-135"/>
<text text-anchor="middle" x="614" y="-188.8" font-family="Times,serif" font-size="14.00" fill="#000000">Node</text>
<polyline fill="none" stroke="#000000" points="577,-181 651,-181 "/>
<text text-anchor="middle" x="614" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#000000">TSDB</text>
<polyline fill="none" stroke="#000000" points="577,-158 651,-158 "/>
<text text-anchor="middle" x="614" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000">HDD/SSD</text>
</g>
<!-- prometheus&#45;&gt;Nodes -->
<g id="edge8" class="edge">
<title>prometheus:f22&#45;&gt;Nodes:f0</title>
<path fill="none" stroke="#000000" d="M356,-250.5C457.1383,-250.5 471.5039,-174.7896 566.8799,-169.762"/>
<polygon fill="#000000" stroke="#000000" points="567.094,-173.2577 577,-169.5 566.9127,-166.26 567.094,-173.2577"/>
</g>
<!-- servicediscovery -->
<g id="node3" class="node">
<title>servicediscovery</title>
<polygon fill="none" stroke="#000000" points="558.5,-223 558.5,-292 669.5,-292 669.5,-223 558.5,-223"/>
<text text-anchor="middle" x="614" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">service discovery</text>
<polyline fill="none" stroke="#000000" points="558.5,-269 669.5,-269 "/>
<text text-anchor="middle" x="614" y="-253.8" font-family="Times,serif" font-size="14.00" fill="#000000">kubernetes</text>
<polyline fill="none" stroke="#000000" points="558.5,-246 669.5,-246 "/>
<text text-anchor="middle" x="614" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#000000">file_sd</text>
</g>
<!-- prometheus&#45;&gt;servicediscovery -->
<g id="edge3" class="edge">
<title>prometheus:f11&#45;&gt;servicediscovery:f0</title>
<path fill="none" stroke="#000000" d="M356,-296.5C364.1104,-296.5 365.9459,-294.4535 374,-293.5 451.9148,-284.2756 474.1353,-280.8005 547.7623,-280.5189"/>
<polygon fill="#000000" stroke="#000000" points="548.0065,-284.0185 558,-280.5 547.9935,-277.0185 548.0065,-284.0185"/>
</g>
<!-- pushgateway -->
<g id="node4" class="node">
<title>pushgateway</title>
<polygon fill="none" stroke="#000000" points="570.5,-402.5 570.5,-448.5 657.5,-448.5 657.5,-402.5 570.5,-402.5"/>
<text text-anchor="middle" x="614" y="-433.3" font-family="Times,serif" font-size="14.00" fill="#000000">pushgateway</text>
<polyline fill="none" stroke="#000000" points="570.5,-425.5 657.5,-425.5 "/>
<text text-anchor="middle" x="614" y="-410.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prometheus&#45;&gt;pushgateway -->
<g id="edge4" class="edge">
<title>prometheus:f11&#45;&gt;pushgateway</title>
<path fill="none" stroke="#000000" d="M356,-296.5C388.1232,-296.5 351.165,-343.9066 374,-366.5 380.7227,-373.1516 492.0453,-398.631 560.6855,-413.846"/>
<polygon fill="#000000" stroke="#000000" points="559.9656,-417.2713 570.4855,-416.0129 561.477,-410.4364 559.9656,-417.2713"/>
<text text-anchor="middle" x="448.5" y="-407.3" font-family="Times,serif" font-size="14.00" fill="#000000">pull metrics intermediary</text>
</g>
<!-- targets -->
<g id="node5" class="node">
<title>targets</title>
<polygon fill="none" stroke="#000000" points="541,-313 541,-382 687,-382 687,-313 541,-313"/>
<text text-anchor="middle" x="614" y="-366.8" font-family="Times,serif" font-size="14.00" fill="#000000">targets</text>
<polyline fill="none" stroke="#000000" points="541,-359 687,-359 "/>
<text text-anchor="middle" x="614" y="-343.8" font-family="Times,serif" font-size="14.00" fill="#000000">HTTP endpoints</text>
<polyline fill="none" stroke="#000000" points="541,-336 687,-336 "/>
<text text-anchor="middle" x="614" y="-320.8" font-family="Times,serif" font-size="14.00" fill="#000000">jobs/exporters(services)</text>
</g>
<!-- prometheus&#45;&gt;targets -->
<g id="edge1" class="edge">
<title>prometheus:f11&#45;&gt;targets:f1</title>
<path fill="none" stroke="#000000" d="M356,-296.5C372.3178,-296.5 360.4033,-319.4778 374,-328.5 402.6299,-347.4976 488.3019,-347.6214 530.9163,-347.5195"/>
<polygon fill="#000000" stroke="#000000" points="531.0068,-351.0194 541,-347.5 530.9932,-344.0194 531.0068,-351.0194"/>
<text text-anchor="middle" x="448.5" y="-351.3" font-family="Times,serif" font-size="14.00" fill="#000000">pull scrape metrics directly</text>
</g>
<!-- prometheus&#45;&gt;targets -->
<g id="edge2" class="edge">
<title>prometheus:f11&#45;&gt;targets:f2</title>
<path fill="none" stroke="#000000" d="M356,-296.5C430.4468,-296.5 454.0368,-281.4572 523,-309.5 528.2755,-311.6452 530.0498,-315.9302 532.2778,-319.373"/>
<polygon fill="#000000" stroke="#000000" points="530.6054,-322.4498 541,-324.5 534.1527,-316.4151 530.6054,-322.4498"/>
<text text-anchor="middle" x="448.5" y="-313.3" font-family="Times,serif" font-size="14.00" fill="#000000">pull metrics</text>
</g>
<!-- alertmanager -->
<g id="node6" class="node">
<title>alertmanager</title>
<polygon fill="none" stroke="#000000" points="551,-70.5 551,-116.5 677,-116.5 677,-70.5 551,-70.5"/>
<text text-anchor="middle" x="614" y="-101.3" font-family="Times,serif" font-size="14.00" fill="#000000">alert manager</text>
<polyline fill="none" stroke="#000000" points="551,-93.5 677,-93.5 "/>
<text text-anchor="middle" x="614" y="-78.3" font-family="Times,serif" font-size="14.00" fill="#000000">Prometheus alerting</text>
</g>
<!-- prometheus&#45;&gt;alertmanager -->
<g id="edge5" class="edge">
<title>prometheus&#45;&gt;alertmanager:f0</title>
<path fill="none" stroke="#000000" d="M356.0867,-172.772C361.9091,-168.3099 367.9034,-164.1592 374,-160.5 441.5962,-119.928 466.4751,-106.6384 540.6961,-105.5712"/>
<polygon fill="#000000" stroke="#000000" points="541.0245,-109.0691 551,-105.5 540.976,-102.0693 541.0245,-109.0691"/>
<text text-anchor="middle" x="448.5" y="-164.3" font-family="Times,serif" font-size="14.00" fill="#000000">aggregate &amp; push alerts</text>
</g>
<!-- exporter -->
<g id="node8" class="node">
<title>exporter</title>
<polygon fill="none" stroke="#000000" points="724,-301.5 724,-347.5 1044,-347.5 1044,-301.5 724,-301.5"/>
<text text-anchor="middle" x="884" y="-332.3" font-family="Times,serif" font-size="14.00" fill="#000000">exporter</text>
<polyline fill="none" stroke="#000000" points="724,-324.5 1044,-324.5 "/>
<text text-anchor="middle" x="884" y="-309.3" font-family="Times,serif" font-size="14.00" fill="#000000">tools that expose time series data on hosts and services.</text>
</g>
<!-- targets&#45;&gt;exporter -->
<g id="edge9" class="edge">
<title>targets:f2&#45;&gt;exporter</title>
<path fill="none" stroke="#000000" d="M687,-324.5C695.6973,-324.5 704.6106,-324.5 713.6111,-324.5"/>
<polygon fill="#000000" stroke="#000000" points="713.8033,-328.0001 723.8033,-324.5 713.8032,-321.0001 713.8033,-328.0001"/>
</g>
<!-- alerts -->
<g id="node7" class="node">
<title>alerts</title>
<polygon fill="none" stroke="#000000" points="847.5,-.5 847.5,-92.5 920.5,-92.5 920.5,-.5 847.5,-.5"/>
<text text-anchor="middle" x="884" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#000000">alerts</text>
<polyline fill="none" stroke="#000000" points="847.5,-69.5 920.5,-69.5 "/>
<text text-anchor="middle" x="884" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#000000">pagerduty</text>
<polyline fill="none" stroke="#000000" points="847.5,-46.5 920.5,-46.5 "/>
<text text-anchor="middle" x="884" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#000000">Email</text>
<polyline fill="none" stroke="#000000" points="847.5,-23.5 920.5,-23.5 "/>
<text text-anchor="middle" x="884" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#000000">WebHook</text>
</g>
<!-- alertmanager&#45;&gt;alerts -->
<g id="edge7" class="edge">
<title>alertmanager:f1&#45;&gt;alerts:f0</title>
<path fill="none" stroke="#000000" d="M677,-81.5C749.0139,-81.5 769.5491,-81.5 836.7369,-81.5"/>
<polygon fill="#000000" stroke="#000000" points="837,-85.0001 847,-81.5 837,-78.0001 837,-85.0001"/>
</g>
<!-- client -->
<g id="node9" class="node">
<title>client</title>
<polygon fill="none" stroke="#000000" points="48,-170.5 48,-216.5 125,-216.5 125,-170.5 48,-170.5"/>
<text text-anchor="middle" x="86.5" y="-201.3" font-family="Times,serif" font-size="14.00" fill="#000000">clients</text>
<polyline fill="none" stroke="#000000" points="48,-193.5 125,-193.5 "/>
<text text-anchor="middle" x="86.5" y="-178.3" font-family="Times,serif" font-size="14.00" fill="#000000">API clients</text>
</g>
<!-- client&#45;&gt;prometheus -->
<g id="edge10" class="edge">
<title>client:f0&#45;&gt;prometheus:f4</title>
<path fill="none" stroke="#000000" d="M125.5,-205.5C159.3904,-205.5 170.3404,-204.6858 199.7502,-204.5267"/>
<polygon fill="#000000" stroke="#000000" points="200.0092,-208.0262 210,-204.5 199.9909,-201.0262 200.0092,-208.0262"/>
</g>
<!-- client&#45;&gt;prometheus -->
<g id="edge11" class="edge">
<title>client:f1&#45;&gt;prometheus:f5</title>
<path fill="none" stroke="#000000" d="M125.5,-181.5C154.8367,-181.5 165.0286,-167.8547 191.5,-180.5"/>
</g>
<!-- visualization -->
<g id="node10" class="node">
<title>visualization</title>
<polygon fill="none" stroke="#000000" points="0,-82 0,-151 173,-151 173,-82 0,-82"/>
<text text-anchor="middle" x="86.5" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">data visualization and export</text>
<polyline fill="none" stroke="#000000" points="0,-128 173,-128 "/>
<text text-anchor="middle" x="86.5" y="-112.8" font-family="Times,serif" font-size="14.00" fill="#000000">Grafana</text>
<polyline fill="none" stroke="#000000" points="0,-105 173,-105 "/>
<text text-anchor="middle" x="86.5" y="-89.8" font-family="Times,serif" font-size="14.00" fill="#000000">prometheus web UI</text>
</g>
<!-- visualization&#45;&gt;prometheus -->
<g id="edge12" class="edge">
<title>visualization:f0&#45;&gt;prometheus:f5</title>
<path fill="none" stroke="#000000" d="M191.5,-180.5C194.6998,-182.0286 197.0476,-182.426 199.3414,-182.3831"/>
<polygon fill="#000000" stroke="#000000" points="199.9536,-185.8435 209.6179,-181.5018 199.3554,-178.8691 199.9536,-185.8435"/>
<path fill="none" stroke="#000000" d="M173,-139.5C192.9914,-139.5 173.4612,-171.8829 191.5,-180.5"/>
</g>
<!-- shortlivejob -->
<g id="node11" class="node">
<title>shortlivejob</title>
<polygon fill="none" stroke="#000000" points="232.5,-403.5 232.5,-449.5 333.5,-449.5 333.5,-403.5 232.5,-403.5"/>
<text text-anchor="middle" x="283" y="-434.3" font-family="Times,serif" font-size="14.00" fill="#000000">short&#45;lived jobs</text>
<polyline fill="none" stroke="#000000" points="232.5,-426.5 333.5,-426.5 "/>
<text text-anchor="middle" x="283" y="-411.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- shortlivejob&#45;&gt;pushgateway -->
<g id="edge6" class="edge">
<title>shortlivejob&#45;&gt;pushgateway</title>
<path fill="none" stroke="#000000" d="M333.6321,-426.347C394.8752,-426.162 497.5285,-425.8519 560.1719,-425.6626"/>
<polygon fill="#000000" stroke="#000000" points="560.2586,-429.1625 570.2479,-425.6322 560.2374,-422.1625 560.2586,-429.1625"/>
<text text-anchor="middle" x="448.5" y="-429.3" font-family="Times,serif" font-size="14.00" fill="#000000">push metrics at exit</text>
</g>
</g>
</svg>
